<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
   
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="style.css"> -->
    <title>Update Matrimony</title>
</head>
<body onload="print1()">
    <div class="container">
        <form class="form-horizontal" role="form">
            <h2 >UPDATE HERE</h2>
            <div class="form-group row">
                <label for="id" class="col-sm-3 control-label">ID*</label>
                <div class="col-sm-9" >
                    <input type="text" id="ID" placeholder="USER ID" class="form-control"   required  disabled>
                    <span id="p100"></span>
                </div>
            </div>
            <div class="form-group row">
                <label for="firstName1" class="col-sm-3 control-label">First Name</label>
                <div class="col-sm-9" >
                    <input type="text" id="firstName" placeholder="First Name" class="form-control" onblur="firstnamee()"  required>
                    <span id="p02"></span>
                </div>
            </div>
            <div class="form-group row">
                <label for="lName1" class="col-sm-3 control-label">Last Name</label>
                <div class="col-sm-9">
                    <input type="text" id="lName" placeholder="Last Name" class="form-control" onblur="Lastnamee()" required>
                    <span id="p03"></span>
                </div>
            </div>
            <div class="form-group row">
                <label for="email1" class="col-sm-3 control-label">Email</label>
                <div class="col-sm-9">
                    <input type="email" id="email" placeholder="Email" class="form-control" name= "email" onblur="Emaill()" required  disabled>
                    <span id="p04"></span>
                </div>
            </div>
            <!-- <div class="form-group row">
                <label for="password1" class="col-sm-3 control-label">Password</label>
                <div class="col-sm-9">
                    <input type="password" id="pswrd" placeholder="Password" class="form-control" onblur="pwdd()" required>
                    <span id="p05"></span>
                </div>
            </div>
            <div class="form-group row">
                <label for="password1" class="col-sm-3 control-label">Confirm Password</label>
                <div class="col-sm-9">
                    <input type="password" id="cpwd" placeholder="Password" class="form-control" onblur="Cpwdd()" required>
                    <span id="p06"></span>
                </div>
            </div> -->
            <div class="form-group row">
                <label for="birthDate1" class="col-sm-3 control-label">Date of Birth</label>
                <div class="col-sm-9">
                    <input type="Date" id="birth" class="form-control" onblur="Dobb()" required>
                    <span id="p07"></span>
                </div>
            </div>
            <div class="form-group row">
                <label for="phoneNumber1" class="col-sm-3 control-label">Phone number </label>
                <div class="col-sm-9">
                    <input type="number" id="phoneNumber" placeholder="Phone number" class="form-control" onblur="pnumm()" required>
                    <span id="p08"></span>
                    <span class="text-secondary">Your phone number won't be disclosed anywhere </span>
                </div>
            </div>
            <div class="form-group row">
                    <label for="heigh1" class="col-sm-3 control-label" >Height </label>
                <div class="col-sm-9">
                    <input type="text" id="heigh" placeholder="Please write your height " class="form-control" onblur="Heightt()" required>
                    <span id="p09"></span>
                </div>
            </div>
             <div class="form-group row">
                    <label for="weight1" class="col-sm-3 control-label">Weight </label>
                <div class="col-sm-9">
                    <input type="number" id="weight" maxlength="3" placeholder="Please write your weight in KILOGRAMS" class="form-control" onblur="Weightt()" required>
                    <span id="p00"></span>
                </div>
            </div>
            <div class="form-group row" onblur=gender() >
                <label class="control-label col-sm-3 control-label" id="G" >Gender</label>
                <div class="col-sm-9">
                    <div class="row">
                        <div class="col-sm-4">
                            <label for="g21" class="radio-inline ">
                     <input type="radio"  name="g" value="female"  />FEMALE
                            </label>
                            <span id="p011"></span>
                        </div>
                        
                        <div class="col-sm-4">
                            <label for="g11" class="radio-inline">
                                <input type="radio"  name="g" value="male" style="color:lightslategray;" >MALE
                            </label>

                        </div>
                    </div>
                </div>
            </div>

           <div class="form-group row">
                <label for="religion1" class="col-sm-3 control-label">Religion</label>
                <div class="col-sm-9">
                    <select id="religion" required>
                            
                        <option value="hindu">Hindu</option>
                        <option value="muslim">Muslim</option>
                        <option value="christian">Christian</option>
                        <option value="noreligion">No Religion Belief</option>
                        
                      </select>
                    <span id="id001"></span>
                </div>
            </div>
            <div class="form-group row">
                    <label for="mothertongue" class="col-sm-3 control-label">Mother Tongue</label>
                    <div class="col-sm-9">
                        <select id="language" required>
                                
                            <option value="Hindi">Hindi</option>
                            <option value="Telugu">Telugu</option>
                            <option value="Tamil">Tamil</option>
                            <option value="Urdu">Urdu</option>
                            
                          </select>
                        <span id="id002"></span>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="qualification" class="col-sm-3 control-label">Educational Qualification* </label>
                    <div class="col-sm-9">
                        <input type="text" id="qualification" placeholder="Please write your Educational Qualification"
                            class="form-control" onblur="qualification()" required>
                        <span id="edu"></span>
                    </div>
                </div>                      
               <div class="form-group row">
                    <label for="profession" class="col-sm-3 control-label">Profession* </label>
                    <div class="col-sm-9">
                        <input type="text" id="profession" placeholder="Please write your Job Profession"
                            class="form-control" onblur="Prof()" required>
                        <span id="pro"></span>
                    </div>
                </div>    
                <div class="form-group row">
                    <label for="working" class="col-sm-3 control-label">Working Company* </label>
                    <div class="col-sm-9">
                        <input type="text" id="working" placeholder="Please write your present working company"
                            class="form-control" onblur="Work()" required>
                        <span id="work"></span>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="salary" class="col-sm-3 control-label">Salary Getting* </label>
                    <div class="col-sm-9">
                        <input type="number" id="salary" placeholder="Please write salary package per Annum"
                            class="form-control" onblur="Salary()" required>
                        <span id="package"></span>
                    </div>
                </div>            
                <div class="form-group row">
                    <label for="zodiac" class="col-sm-3 control-label">Zodiac Sign* </label>
                    <div class="col-sm-9">
                        <select id="zodiac" onblur="Zodiac()" required>
                            <option value="" disabled="disabled" selected="selected">Please select a Zodiac</option>
                            <option value="capricorn">Capricorn</option>
                            <option value="aquarius">Aquarius</option>
                            <option value="pisces">Pisces</option>
                            <option value="aries">Aries</option>
                            <option value="taurus">Taurus</option>
                            <option value="gemini">Gemini</option>
                            <option value="cancer">Cancer</option>
                            <option value="leo">Leo</option>
                            <option value="virgo">Virgo</option>
                            <option value="libra">Libra</option>
                            <option value="scorpio">Scorpio</option>
                            <option value="sagittarius">Sagittarius</option>
                        </select>
                            <span id="Sign"></span>
                    </div>
                </div>
            <div class="form-group row">
                <div class="row col-sm-4">
                        <label for="hobbies col-sm-3 control-label" required>Hobbies</label>
                </div>
                       <div class="row">
                            <div class="col-sm-4 ">
                                <textarea name="hobbies" id="hobbies" cols="20" rows="2" onclick="Hobbiess()" required></textarea>
                                <span id="hai0"></span>
                            </div>
                        </div>
                    </div>               
                <div class="form-group row">
                        <div class="row col-sm-4">
                                <label for="address col-sm-3 control-label" required>Address</label>
                        </div>
                                <div class="row">
                                    <div class="col-sm-4 ">
                                        <textarea name="address" id="address" cols="20" rows="2" onclick="Addresss()" required></textarea>
                                        <span id="hye0"></span>
                                    </div>
                                </div>
                            </div>                       
                            <!-- <div class="form-group row">
                                <label for="photo1" class="col-sm-3 control-label" required>Change Pic</label>
                                <div class="col-sm-9">
                                    <input type="file" id="photo"  class="form-control"placeholder="upload photo"  >
                                    <!-- onblur="Photoo() -->
                                    <span id="hi0"></span>
                                </div> -->
                            </div>                          
            <div class="form-group row">
                <div class="col-sm-9 col-sm-offset-3">
                    <span  class="text-secondary">Required fields</span>
                </div>
            </div> 
        </form> 
  <!-- <div class="form-group row"> -->
                <!-- <label for="photo1" class="col-sm-3 control-label" required>Upload Pic*</label> -->
                <div class="col-sm-4">
                    <input type="submit"  class="btn btn-primary" onclick="update1()" value="Update"  style="margin-left: 150px;" >
                    <span id="hi002"></span>
                </div>
            </div>
        </form> <!-- /form -->
    </div> <!-- ./container -->

            <!-- Trigger the modal with a button -->
           
                  <!-- <div class="container">
                
                
                    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">HELP</button>
                  
                 <div class="modal fade" id="myModal1" role="dialog">
                      <div class="modal-dialog modal-sm">
                        <div class="modal-Content">
                          <div class="modal-Header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-Title">Help</h4>
                          </div>
                          <div class="modal-Body">
                         
                                Help<br>
                                Security<br>
                                My Requests<br>
                                
                           
                          </div>
                          <div class="modal-Footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                 -->  
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<!-- <script src="./edit.js"></script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<!-- <script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script> -->
<script>
function firstnamee()
{
	var alphaExp = /^[a-zA-Z ]*$/;
	var y=$("firstName").val();
	if(y=="")
	{
	  $("p02").html("please enter first name");
	}
   
	else if(!(alphaExp.test(y)))
	{
		$("p02").html("please enter first name only alphabets"); 
	}
	else
	{
		$("p02").html("");
	}
}
function Lastnamee()
    {
        var alphaExp = /^[a-zA-Z ]*$/;
        var x=$("lName").val();
        if(x=="")
        {
          $("p03").html("please enter last name");
        }
        else if(!(alphaExp.test(x)))
        {
            $("p03").html("please enter last name only alphabets"); 
        }
		else
		{
            $("p03").html("");
        }
	}
	function Emaill()
    {
        var mailformat = /^\w+([\.-]?\w+)+@\w+([\.:]?\w+)+(\.[a-zA-Z0-9]{2,3})+$/;
        var x=$("email").val();
        if(x=="")
        {
          $("p04").html("please enter email");
        }
        else if(!(mailformat.test(x)))
        {
            $("p04").html("please enter  perfect email");
        }
        else{
            $("p04").html("");
        }
	}
	function pwdd()
    { 
        var pattern=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/;
        var x=$("pswrd").val();
        if(x=="")
        {
          $("p05").html("please enter password");
        }
        else if(!x.match(pattern))
        {
            $("p05").html("please enter password 8 characters includes uppercase special character and number");
        }
        else{
            $("p05").html("");
        }
	}
	function Cpwdd()
    {
        var pattern=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/;
        var x=$("pswrd").val();
        var y=$("cpwd").val();
        if(x=="")
        {
          $("p06").html("please enter re password");
        }
        else if(!x.match(pattern))
        {
            $("p06").html("please enter password 8 characters includes uppercase special character and number");
        }
        else if(x!=y)
        {
            $("p06").html("password not matches");
        }
        else{
            $("p06").html("");
        }
	}
	function Dobb()
    {
        var x=$("birth").val();
        if(x=="")
        {
          $("p07").html("please enter dob");
        }
        else{
            $("p07").htm("");
        }
	}
	function pnumm()
	
	{
	  var phoneno =/^\d{10}$/;
	  var x=$("phoneNumber").val();
	  if(x=="")
	  {
		$("p08").html("please enter PHONENUMBER");
	  }
	  else if(!(phoneno.test(x)))
	  {
		  $("p08").html("please enter valid contact"); 
	  }
	  else
	  {
		  $("p08").html("");
	  }
  }
	function Heightt(){
		// var height=/^[2-9]' ?(?:\d|1[0-1])"?$/;
		var height=/^[0-9]+ ?(\'|ft|cm|meters|feet|in|inches|\")?( *[1-9]+ ?(\"|inches|in|cm)?)?$/;
		// console.log("11111",height);
		// var height=/^(d+)('|")(?:([0-12]+)(?!2)")?$/;
		var x=$("heigh").val();
		if(x=="")
		{
			$("p09").html("please enter HEIGHT");	
		}
		else if(!(height.test(x)))
	  {
		  $("p09").html("please enter a valid height"); 
	  }
	  else
	  {
		  $("p09").html("");
	  }
	}	
	function Weightt(){
	//  var weightt=/^\d{2,3} ?kg$/;
		var x=$("weight").val();
		if(x=="")
		{
			$("p00").html("please enter WEIGHT");	
		}
	// 	else if(!(weightt.test(x)))
	//   {
	// 	  document.getElementById("p0").innerHTML="please enter a valid weight"; 
	//   }
	  else
	  {
		  $("p00").html("");
	  }
	}
	function Hobbiess()
    {
        var x=$("hobbies").val();
        if(x=="")
        {
          $("hai0").html("please enter your hobbies");
        }
        else{
            $("hai0").html("");
        }
	}
	// function Photoo()
    // {
    //     var x=document.getElementById("photo").value;
    //     if(x=="")
    //     {
    //       document.getElementById("hi0").innerHTML="please enter your hobbies";
    //     }
    //     else{
    //         document.getElementById("hi0").innerHTML="";
    //     }
	// }	
	function Addresss()
    {
        var x=$("address").val();
        if(x=="")
        {
          $("hye1").html("please enter your address");
        }
        else{
            $("hye1").html("");
        }
	}
    // code to print data in signup form to edit----
    function print1() {
		var p;
		window.params = function () {
			var params = {};
			var param_array = window.location.href.split('?')[1].split('&');
			for (var i in param_array) {
				x = param_array[i].split('=');
				params[x[0]] = x[1];
			}
			console.log("I am Params ", params);
			p = params;
			return params;
		}();
		var data = {};
		data.email = p.email;
		$.ajax({
			url: '/filldata/'+data.email,
			type: 'Get',
			data: data,
			dataType: "json",
			success: function (data1) {
				console.log('success', data1);
				var data2 = data1;
     			//console.log(data2[0].username);
				$('#ID').val(data2[0].id);
				$('#firstName').val(data2[0].fname);
				$('#lName').val(data2[0].lname);
				$('#email').val(data2[0].email);
				$('#pswrd').val(data2[0].psw);
				$('#cpwd').val(data2[0].cpsw);
				$('#birth').val(data2[0].dob);
				$('#phoneNumber').val(data2[0].phonenumber);
				$('#heigh').val(data2[0].height);
				$('#weight').val(data2[0].weight);
				$('#G').val(data2[0].gender);				
				$('#hobbies').val(data2[0].hobbies);
                $('#address').val(data2[0].address);
                $('#qualification').val(data2[0].qualification);
                $('#profession').val(data2[0].profession);
                $('#working').val(data2[0].working);
                $('#salary').val(data2[0].salary);
                $('#Religion').val(data2[0].Religion);
                $('#mothertongue').val(data2[0].language);
                $('#zodiac').val(data2[0].zodiac);
			},
			error: function (XMLHttpRequest, textStatus, errorThrown) {
				console.log('error', errorThrown);
			}
		});
    }
    // code to update data which is printed in signupform----
    function update1(){
            var data={};
            var a=window.location.href.search('=');
             var b=window.location.href.slice(a);            
            data.id= $("#ID").val();
            data.fname= $("#firstName").val();
            data.lname= $("#lName").val();
            data.email= $("#email").val();
            data.psw= $("#pswrd").val();
            data.cpsw= $("#cpwd").val();
            data.dob= $("#birth").val();
            data.phonenumber= $("#phoneNumber").val();
            data.height= $("#heigh").val();
            data.weight= $("#weight").val();
            data.gender= $("#G").val();        
            data.hobbies= $("#hobbies").val();
            data.address= $("#address").val();
            data.photo= $("#photo").val();
            data.qualification= $("#qualification").val();
            data.profession= $("#profession").val();
            data.working= $("#working").val();
            data.salary= $("#salary").val();
            data.Religion= $("#religion").val();
            data.language= $("#language").val();
                        $.ajax({
                url : '/update1',
                type : 'POST',
                data : data,
                dataType : 'JSON',
                success : function(res){
                    console.log(res);
                    window.location.replace="/UserDetails.html"
                }
            });
        }
        // code for deleting data --------
function delete1(id) {
    alert("hiiiii");
    var a = {}
     a.id = id;
     $.ajax({
          url: '/deleterow/' + a.id,
          type: 'POST', 
          success: function (data) {
            console.log("delete sucess");
        },
    })
     }
</script>
</body>
</html>